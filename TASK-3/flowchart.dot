digraph HastaneSistemi {

    rankdir=LR;
    label="Hastane Otomasyon Sistemi";
    labelloc=top;
    fontsize=20;

    // Ana Menü
    AnaMenu [shape=box, style=filled, color=lightblue, label="Ana Menü\n1. Randevu Alma\n2. Tahlil Sonuçları"];

    // --- Modül 1: Randevu Alma ---
    subgraph cluster_Randevu {
        label = "Modül 1: Randevu Alma";
        style = filled;
        color = lightgrey;

        R1 [shape=parallelogram, label="Kimlik Bilgilerini Gir"];
        R2 [shape=diamond, label="Kimlik Doğrulama Başarılı mı?"];
        R3 [shape=box, label="Poliklinik Seç"];
        R4 [shape=box, label="Doktor Seç"];
        R5 [shape=box, label="Uygun Saat Seç"];
        R6 [shape=box, label="Randevuyu Onayla"];
        R7 [shape=parallelogram, label="SMS ile Onay Mesajı Gönder"];
        R8 [shape=ellipse, label="Randevu Tamamlandı"];
        RX [shape=ellipse, label="Kimlik Hatası"];

        R1 -> R2;
        R2 -> RX [label="Hayır"];
        R2 -> R3 [label="Evet"];
        R3 -> R4 -> R5 -> R6 -> R7 -> R8;
    }

    // --- Modül 2: Tahlil Sonuçları ---
    subgraph cluster_Tahlil {
        label = "Modül 2: Tahlil Sonuçları";
        style = filled;
        color = lightyellow;

        T1 [shape=parallelogram, label="Kimlik Bilgilerini Gir"];
        T2 [shape=diamond, label="Kimlik Doğrulama Başarılı mı?"];
        T3 [shape=box, label="Tahlil Sonucu Hazır mı?"];
        T4 [shape=parallelogram, label="Sonuçları Görüntüle"];
        T5 [shape=box, label="PDF Olarak İndir"];
        T6 [shape=ellipse, label="İşlem Tamamlandı"];
        TX [shape=ellipse, label="Kimlik Hatası"];
        TW [shape=ellipse, label="Sonuç Hazırlanıyor"];

        T1 -> T2;
        T2 -> TX [label="Hayır"];
        T2 -> T3 [label="Evet"];
        T3 -> TW [label="Hayır"];
        T3 -> T4 -> T5 -> T6;
    }

    // --- Ana Menü bağlantıları ---
    AnaMenu -> R1 [label="1. Randevu Alma"];
    AnaMenu -> T1 [label="2. Tahlil Sonuçları"];
}
